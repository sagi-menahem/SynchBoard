@use '@/styles' as theme;

.cardLink {
  text-decoration: none;
  color: inherit;
  display: block;

  &:hover .boardCard.grid {
    transform: translateY(theme.$transform-translate-y-sm) scale(theme.$scale-moderate);
    box-shadow: theme.$shadow-card-hover-lg;
  }

  &:hover .boardCard.list {
    transform: translateY(theme.$transform-translate-y-sm) scale(theme.$scale-subtle);
    box-shadow: theme.$shadow-card-hover;
  }

  &:active .boardCard {
    transform: translateY(0) scale(1);
    transition-duration: theme.$transition-instant;
  }
}

.boardCard {
  text-align: start;
  position: relative;
  overflow: hidden;
  transition:
    transform theme.$transition-normal cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow theme.$transition-normal cubic-bezier(0.4, 0, 0.2, 1);
  will-change: transform, box-shadow;
}

// ===== GRID VIEW STYLES =====
.boardCard.grid {
  @include theme.flex-column;
  padding: 0;
  border-radius: theme.$border-radius-lg;
  background: var(--user-chosen-color, var(--glass-background));
  border: theme.$border-width solid var(--glass-border);
  box-shadow: theme.$shadow-card;
}

.previewArea {
  width: 100%;
  height: theme.$board-card-preview-height;
  position: relative;
  border-radius: theme.$border-radius-lg theme.$border-radius-lg 0 0;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  background: transparent;
}

.colorRing {
  display: none;
}

.gridAvatar {
  position: relative;
  width: theme.$avatar-size-xl;
  height: theme.$avatar-size-xl;
  border-radius: theme.$border-radius-full;
  overflow: hidden;
  border: 3px solid rgba(255, 255, 255, 0.95);
  box-shadow: theme.$shadow-card;
  z-index: theme.$z-index-base;
  background: var(--color-surface-elevated);
}

.gridAvatarImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.adminBadge {
  position: absolute;
  top: theme.$spacing-1-5;
  inset-inline-end: theme.$spacing-1-5;
  background: var(--admin-badge-bg);
  color: var(--admin-badge-text);
  padding: theme.$spacing-1 theme.$spacing-2;
  border-radius: theme.$border-radius-md;
  border: theme.$border-width solid var(--admin-badge-text);
  display: flex;
  align-items: center;
  gap: theme.$spacing-1;
  font-size: theme.$font-size-2xs-plus;
  font-weight: theme.$font-weight-semibold;
  box-shadow: theme.$shadow-sm;
}

.boardCard.grid .boardCardContent {
  @include theme.flex-column;
  padding: theme.$spacing-2 theme.$spacing-2-5;
  gap: theme.$spacing-1;
  flex-shrink: 0;
  align-items: center;
  text-align: center;
  border-top: theme.$border-width solid var(--glass-border);
}

.boardName {
  font-size: theme.$font-size-xs-plus;
  font-weight: theme.$font-weight-semibold;
  color: var(--color-text-primary);
  margin: 0;
  line-height: theme.$line-height-tight;
  @include theme.text-clamp(1);
}

.metadataRow {
  display: flex;
  align-items: center;
  gap: theme.$spacing-1;
  font-size: theme.$font-size-2xs;
}

.colorDot {
  width: theme.$spacing-1-5;
  height: theme.$spacing-1-5;
  border-radius: theme.$border-radius-full;
  border: theme.$border-width solid var(--glass-border);
  flex-shrink: 0;
}

.resolutionText {
  font-size: theme.$font-size-2xs;
  color: var(--color-text-secondary);
  font-family: monospace;
  line-height: theme.$line-height-tight;
}

.timestamp {
  font-size: theme.$font-size-2xs;
  color: var(--color-text-muted);
  line-height: theme.$line-height-tight;
}

// ===== LIST VIEW STYLES =====
.boardCard.list {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: theme.$spacing-3;
  padding: theme.$spacing-2-5 theme.$spacing-3;
  border-radius: theme.$border-radius-lg;
  min-height: 56px;
  background: var(--user-chosen-color, var(--glass-background));
  border: theme.$border-width solid var(--glass-border);
  box-shadow: theme.$shadow-card;
}

.listLeftSection {
  display: flex;
  align-items: center;
  gap: theme.$spacing-3;
  grid-column: 1;
  min-width: 0;
}

.listThumbnail {
  width: theme.$avatar-size-md;
  height: theme.$avatar-size-md;
  border-radius: theme.$border-radius-full;
  flex-shrink: 0;
  border: theme.$border-width-thick solid var(--glass-border);
  object-fit: cover;
}

.listName {
  display: flex;
  align-items: center;
  gap: theme.$spacing-1-5;
  min-width: 0;

  h3 {
    margin: 0;
    font-size: theme.$font-size-sm;
    font-weight: theme.$font-weight-semibold;
    color: var(--color-text-primary);
    @include theme.text-clamp(1);
  }
}

.listAdminIcon {
  color: var(--admin-icon-color);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.listCenterInfo {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: theme.$spacing-1;
  text-align: center;
  grid-column: 2;
  justify-self: center;
}

.listResolution {
  flex-shrink: 0;

  span {
    font-size: theme.$font-size-xs-plus;
    font-family: monospace;
    color: var(--color-text-secondary);
    white-space: nowrap;
  }
}

.listColorInfo {
  display: flex;
  align-items: center;
  gap: theme.$spacing-1-5;
  flex-shrink: 0;
}

.listColorDot {
  width: theme.$spacing-2;
  height: theme.$spacing-2;
  border-radius: theme.$border-radius-full;
  border: theme.$border-width solid var(--glass-border);
  flex-shrink: 0;
}

.listColorName {
  font-size: theme.$font-size-xs-plus;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.listTimestamp {
  flex-shrink: 0;
  font-size: theme.$font-size-xs;
  color: var(--color-text-muted);
  white-space: nowrap;
  text-align: right;
  min-width: 80px;
  grid-column: 3;
  justify-self: end;
}

// ===== RESPONSIVE DESIGN =====
@media (max-width: theme.$breakpoint-md) {
  .boardCard.grid {
    aspect-ratio: 1 / 1;
  }

  .previewArea {
    height: theme.$board-card-preview-height-mobile;
  }

  .gridAvatar {
    width: theme.$avatar-size-lg;
    height: theme.$avatar-size-lg;
    border-width: theme.$border-width-thick;
  }

  .boardCard.grid .boardCardContent {
    padding: theme.$spacing-1-5 theme.$spacing-2;
    gap: theme.$spacing-0-5;
  }

  .boardName {
    font-size: theme.$font-size-xs;
  }

  .resolutionText,
  .timestamp {
    font-size: theme.$font-size-3xs;
  }

  .metadataRow {
    font-size: theme.$font-size-3xs;
    gap: theme.$spacing-0-5;
  }

  .colorDot {
    width: theme.$spacing-1;
    height: theme.$spacing-1;
  }

  .boardCard.list {
    grid-template-columns: auto 1fr;
    gap: theme.$spacing-2;
    padding: theme.$spacing-2 theme.$spacing-2-5;
  }

  .listLeftSection {
    gap: theme.$spacing-2;
    grid-column: 1;
  }

  .listThumbnail {
    width: theme.$avatar-size-sm;
    height: theme.$avatar-size-sm;
  }

  .listName {
    min-width: 0;
    flex: 1;

    h3 {
      font-size: theme.$font-size-xs-plus;
    }
  }

  .listCenterInfo {
    display: none;
  }

  .listTimestamp {
    grid-column: 2;
    grid-row: 1;
    justify-self: end;
    align-self: center;
    font-size: theme.$font-size-2xs;
    min-width: 60px;
  }

  .listAdminIcon {
    display: flex;
    align-items: center;
  }

  .listName h3 {
    font-size: theme.$font-size-xs-plus;
  }

  .listColorName,
  .listResolution span,
  .listTimestamp {
    font-size: theme.$font-size-2xs-plus;
  }

  // Hide color name on mobile to save space
  .listColorName {
    display: none;
  }
}

@media (max-width: theme.$breakpoint-sm) {
  .boardCard.grid .boardCardContent {
    padding: theme.$spacing-2;
    gap: theme.$spacing-1;
  }

  .boardName {
    font-size: theme.$font-size-xs;
  }

  .boardCard.list {
    gap: theme.$spacing-2;
    padding: theme.$spacing-2 theme.$spacing-2-5;
  }

  .listThumbnail {
    width: theme.$avatar-size-sm;
    height: theme.$avatar-size-sm;
  }

  .listName h3 {
    font-size: theme.$font-size-xs;
  }

  // Hide resolution on very small screens
  .listResolution {
    display: none;
  }
}
