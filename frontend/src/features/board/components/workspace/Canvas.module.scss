@use '@/styles' as theme;

.scrollContainer {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: auto;
  display: flex;

  /* Theme-aware enhanced scrollbar design */
  @include theme.theme-scrollbar-enhanced;
}

/* English (LTR): Scrollbars on left side */
[dir='ltr'] .scrollContainer {
  direction: rtl;
}

[dir='ltr'] .scrollContainer > * {
  direction: ltr;
}

/* Hebrew (RTL): Scrollbars on right side */
[dir='rtl'] .scrollContainer {
  direction: ltr;
}

[dir='rtl'] .scrollContainer > * {
  direction: ltr;
}

.canvasContainer {
  @include theme.flex-center;
  box-sizing: border-box;
  width: 100%;
  height: 100%;
  position: relative;
  background: transparent; // Transparent to allow pattern and canvas dynamic background to show
}

.canvasContainer.hideBackground {
  background: transparent !important;
  background-image: none !important;
}

.canvasWrapper {
  position: relative; // Enable absolute positioning for child elements
  display: inline-block;
  transform-origin: center center;
  @include theme.shadow-heavy;
  @include theme.rounded-small;
  overflow: hidden;
}

.canvas {
  display: block;
  cursor: crosshair;
  border-radius: theme.$border-radius-xs;
}

.canvas.disabled {
  cursor: not-allowed !important;
  opacity: 0.6;
  filter: grayscale(0.3);
}

.scrollContainer.disconnected::after {
  content: 'Drawing disabled - No connection to server';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: theme.$error-overlay;
  color: theme.$text-primary;
  padding: theme.$spacing-3 theme.$spacing-5;
  @include theme.rounded-medium;
  font-size: 14px;
  font-weight: 500;
  pointer-events: none;
  z-index: theme.$z-index-elevated;
  @include theme.shadow-medium;
}

.loadingOverlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: theme.$background-overlay;
  @include theme.flex-center;
  z-index: theme.$z-index-elevated;
}

.placeholderContent {
  @include theme.flex-column;
  @include theme.flex-center;
  gap: theme.$spacing-4;
}

.placeholderSpinner {
  width: 40px;
  height: 40px;
  border: 3px solid theme.$border-primary;
  border-top: 3px solid theme.$primary;
  @include theme.rounded-circle;
  animation: spin theme.$transition-very-slow linear infinite;
}

.placeholderText {
  color: theme.$text-muted;
  font-size: 14px;
  margin: 0;
  font-weight: 500;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}
