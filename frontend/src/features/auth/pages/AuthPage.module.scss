@use '@/styles' as theme;

/* Full viewport reset negating app-level margins */
.pageContent {
  position: relative;
  width: 100vw;
  height: 100vh;
  margin-top: calc(-1 * var(--banner-height, 0px));
  margin-left: calc(-1 * var(--app-padding-x, 0px));
  margin-right: calc(-1 * var(--app-padding-x, 0px));
  box-sizing: border-box;
  overflow-x: hidden;
}

/* Fixed corner area for theme/language switchers using logical properties */
.switchersCorner {
  position: fixed;
  top: theme.$spacing-6;
  inset-inline-end: theme.$spacing-6;
  z-index: theme.$z-index-modal;
  @include theme.flex-column;
  align-items: flex-end;
  gap: theme.$spacing-3;
}

.splitContainer {
  display: flex;
  height: 100vh;
  width: 100%;
  max-width: 100vw;
  overflow: hidden;
}

.heroSection {
  flex: 0 0 60%;
  min-width: 0;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.9) 0%, rgba(37, 99, 235, 0.85) 100%);
  @include theme.flex-center;
  padding: theme.$spacing-6;
  color: white;
  position: relative;
  overflow: hidden;

  /* Subtle glass overlay for depth */
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(255, 255, 255, 0.05) 50%,
      rgba(0, 0, 0, 0.1) 100%
    );
    pointer-events: none;
  }
}

.heroContent {
  position: relative;
  z-index: theme.$z-index-base;
  max-width: 500px;
  text-align: start;
}

/* Title with text overflow protection for very long app names */
.pageTitle {
  @include theme.flex-start;
  gap: theme.$spacing-3;
  margin: 0 0 theme.$spacing-6 0;
  color: white;
  font-size: 2.5rem;
  font-weight: 700;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

:global([dir='rtl']) .pageTitle {
  font-size: 2.2rem;
  white-space: nowrap;
  max-width: 100%;
}

.heroSubtitle {
  font-size: 1.125rem;
  line-height: 1.6;
  margin: 0 0 theme.$spacing-8 0;
  opacity: 0.95;
  color: rgba(255, 255, 255, 0.9);
}

.heroFeatures {
  @include theme.flex-column;
  gap: theme.$spacing-4;
}

.featureItem {
  @include theme.flex-start;
  gap: theme.$spacing-3;
  align-items: center;
}

/* Glassmorphism effect for feature icons */
.featureIcon {
  font-size: 1.5rem;
  width: 2.5rem;
  height: 2.5rem;
  @include theme.flex-center;
  background: rgba(255, 255, 255, 0.15);
  border-radius: theme.$border-radius-md;
}

.formSection {
  flex: 0 0 40%;
  min-width: 0;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
  padding: 0;
  @include theme.glass-background(false);
  overflow-y: auto;
  overflow-x: hidden;
}

.authCard {
  flex: 1;
  display: flex;
  flex-direction: column;
  @include theme.glass-background(false);
  @include theme.glass-border;
  border-radius: theme.$card-border-radius;
  box-shadow: theme.$shadow-lg;
  box-sizing: border-box;
  overflow-y: auto;
}

.authContainer {
  @include theme.flex-column;
  gap: theme.$spacing-2;
  flex: 1;
  padding-block: theme.$spacing-6;
  padding-inline: theme.$spacing-6;
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
}

.formHeader {
  margin-bottom: theme.$spacing-1;
}

.formTitle {
  @include theme.flex-start;
  gap: theme.$spacing-2;
  margin: 0;
  color: theme.$text-primary;
  font-size: 1.25rem;
  font-weight: 600;
}

.authActions {
  @include theme.flex-column-center;
  gap: theme.$spacing-1;
  margin-top: theme.$spacing-2;
  padding-top: theme.$spacing-2;
  @include theme.glass-border-top;
}

.toggleText {
  color: theme.$text-muted;
  font-size: 0.875rem;
  margin: 0;
  text-align: center;
}

/* Mobile breakpoint: stack hero and form vertically */
@media (max-width: theme.$breakpoint-md) {
  .pageContent {
    min-height: auto;
  }

  .splitContainer {
    flex-direction: column;
    height: auto;
    min-height: 100vh;
  }

  .heroSection {
    flex: 0 0 auto;
    min-height: 35vh;
    padding: theme.$spacing-4;
  }

  .heroContent {
    max-width: 100%;
  }

  .pageTitle {
    font-size: 1.75rem;
    margin-bottom: theme.$spacing-3;
    white-space: nowrap;
  }

  :global([dir='rtl']) .pageTitle {
    font-size: 1.6rem;
    white-space: nowrap;
  }

  .heroSubtitle {
    font-size: 0.9rem;
    margin-bottom: theme.$spacing-4;
  }

  .featureItem {
    font-size: 0.85rem;
  }

  .featureIcon {
    font-size: 1.1rem;
    width: 1.75rem;
    height: 1.75rem;
  }

  .heroFeatures {
    gap: theme.$spacing-2;
  }

  .formSection {
    flex: 1;
    padding: theme.$spacing-3;
    min-height: auto;
    overflow-y: visible;
  }

  .authCard {
    flex: 1;
    margin: 0;
  }

  .authContainer {
    padding-block: theme.$spacing-4;
    padding-inline: theme.$spacing-5;
  }

  .switchersCorner {
    top: theme.$spacing-4;
    inset-inline-end: theme.$spacing-4;
    gap: theme.$spacing-2;
  }
}

@media (max-width: theme.$breakpoint-sm) {
  .heroSection {
    min-height: 35vh;
    padding: theme.$spacing-4;
  }

  .pageTitle {
    font-size: 1.75rem;
    white-space: nowrap;
  }

  :global([dir='rtl']) .pageTitle {
    font-size: 1.5rem;
    white-space: nowrap;
  }

  .heroFeatures {
    gap: theme.$spacing-3;
  }

  .formSection {
    padding: theme.$spacing-3;
  }

  .formTitle {
    font-size: 1.125rem;
  }
}

/* Dark theme with glass effect */
:global(body[data-theme='dark']) {
  .heroSection {
    background: linear-gradient(135deg, rgba(55, 65, 81, 0.9) 0%, rgba(31, 41, 55, 0.85) 100%);

    &::before {
      background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.05) 0%,
        rgba(255, 255, 255, 0.02) 50%,
        rgba(0, 0, 0, 0.15) 100%
      );
    }
  }

  .formSection {
    @include theme.glass-background(false);
  }

  .authCard {
    @include theme.glass-background(false);
    @include theme.glass-border;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
  }

  .formTitle {
    color: #{theme.$color-gray-50};
  }

  .toggleText {
    color: #{theme.$color-gray-300};
  }

  .authActions {
    @include theme.glass-border-top;
  }
}
