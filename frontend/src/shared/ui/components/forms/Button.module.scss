@use '@/styles' as theme;

// --- Button Base Styles ---

// Foundation styles applied to all button variants
.base {
  @include theme.button-base;
  @include theme.button-transition;
  @include theme.button-disabled;
}

// SVG icon styling within buttons
.base svg {
  flex-shrink: 0;
}

// --- Button Variants ---

// Primary action button with prominent styling
.primary {
  background-color: var(--btn-primary-bg);
  color: var(--btn-primary-text);
  border-color: transparent;
  font-weight: theme.$font-weight-semibold;

  &:hover:not(:disabled) {
    background-color: var(--btn-primary-bg-hover);
    border-color: transparent;
    transform: translateY(theme.$transform-translate-y-xs);
    box-shadow: theme.$shadow-button-hover;
  }

  &:active:not(:disabled) {
    transform: translateY(theme.$spacing-0);
    box-shadow: theme.$shadow-button-active;
  }
}

// Destructive action button with warning appearance
.destructive {
  background-color: var(--btn-destructive-bg);
  border-color: transparent;
  color: var(--btn-destructive-text);
  font-weight: theme.$font-weight-medium;
  box-shadow: theme.$shadow-button;

  &:hover:not(:disabled) {
    background-color: var(--btn-destructive-bg-hover);
    border-color: transparent;
    transform: translateY(theme.$transform-translate-y-xs);
    box-shadow: theme.$shadow-button-hover;
  }

  &:active:not(:disabled) {
    transform: translateY(theme.$spacing-0);
    box-shadow: theme.$shadow-button-active;
  }
}

// Secondary button with subtle styling
.secondary {
  background-color: var(--btn-secondary-bg);
  color: var(--btn-secondary-text);
  border-color: var(--btn-secondary-border);

  &:hover:not(:disabled) {
    background-color: var(--btn-secondary-bg-hover);
    border-color: var(--btn-secondary-border);
    transform: translateY(theme.$transform-translate-y-xs);
    box-shadow: theme.$shadow-button-small;
  }

  &:active:not(:disabled) {
    transform: translateY(theme.$spacing-0);
    box-shadow: theme.$shadow-button-small;
  }
}

// Icon-only button for toolbar and compact interfaces
.icon {
  @include theme.interactive-button;
  background: theme.$tool-button-bg;
  border: 1px solid theme.$tool-button-border;
  color: var(--btn-icon-text);
  cursor: pointer;
  padding: theme.$spacing-2;
  @include theme.rounded-medium;
  @include theme.flex-center;
  @include theme.button-transition;
  min-width: theme.$icon-button-size;
  min-height: theme.$icon-button-size;
  position: relative;

  &:hover:not(:disabled) {
    background: var(--btn-icon-bg-hover);
    border-color: theme.$tool-button-hover-border;
    color: theme.$text-primary;
    transform: translateY(-1px);
    @include theme.shadow-light;
  }

  &:disabled {
    @include theme.button-disabled;
    opacity: 0.3;
    cursor: not-allowed;
  }

  // Active state for toggle icon buttons
  &.active {
    background: transparent !important;
    color: theme.$text-primary;
    border-color: var(--btn-icon-active-border) !important;
    box-shadow: none;
  }

  &.active:hover,
  &.active:focus,
  &.active:focus-visible {
    background: transparent !important;
    border-color: var(--btn-icon-active-border) !important;
    outline: none !important;
  }

  &:focus,
  &:focus-visible {
    outline: none !important;
    border-color: var(--btn-icon-active-border) !important;
  }
}

// Call-to-action button with glassmorphism style
.cta {
  background: rgba(16, 185, 129, 0.1);
  color: var(--btn-cta-bg);
  border: 1px solid rgba(16, 185, 129, 0.3);
  font-weight: theme.$font-weight-semibold;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.1);
  min-height: theme.$button-compact-height;
  padding: theme.$spacing-1 theme.$spacing-2;
  font-size: theme.$font-size-xs;

  &:hover:not(:disabled) {
    background: rgba(16, 185, 129, 0.2);
    color: var(--btn-cta-bg);
    border-color: rgba(16, 185, 129, 0.5);
    transform: translateY(theme.$transform-translate-y-xs);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
  }

  &:active:not(:disabled) {
    background: rgba(16, 185, 129, 0.25);
    transform: translateY(theme.$spacing-0);
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.15);
  }
}

// Warning button for cautionary actions with glassmorphism style
.warning {
  background: rgba(245, 158, 11, 0.1);
  color: var(--btn-warning-bg);
  border: 1px solid rgba(245, 158, 11, 0.3);
  font-weight: theme.$font-weight-semibold;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.1);
  min-height: theme.$button-compact-height;
  padding: theme.$spacing-1 theme.$spacing-2;
  font-size: theme.$font-size-xs;

  &:hover:not(:disabled) {
    background: rgba(245, 158, 11, 0.2);
    color: var(--btn-warning-bg);
    border-color: rgba(245, 158, 11, 0.5);
    transform: translateY(theme.$transform-translate-y-xs);
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2);
  }

  &:active:not(:disabled) {
    background: rgba(245, 158, 11, 0.25);
    transform: translateY(theme.$spacing-0);
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.15);
  }
}

// Link-style button that mimics text links
.link {
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  box-shadow: none;
  color: var(--color-text-muted);
  text-decoration: none;
  font-weight: theme.$font-weight-normal;
  font-size: theme.$font-size-sm-plus;
  cursor: pointer;
  @include theme.button-transition;

  &:hover:not(:disabled) {
    text-decoration: underline;
    color: var(--color-text-primary);
    background: none;
    border: none;
    transform: none;
    box-shadow: none;
  }

  &:focus {
    outline: 2px solid theme.$primary-light;
    outline-offset: 2px;
    text-decoration: underline;
    color: var(--color-text-primary);
  }

  &:active:not(:disabled) {
    color: theme.$primary;
    transform: none;
    box-shadow: none;
  }

  &:disabled {
    color: theme.$text-disabled;
    cursor: not-allowed;
    text-decoration: none;
    opacity: 0.5;
  }
}
