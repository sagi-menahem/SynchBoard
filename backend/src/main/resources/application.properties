spring.application.name=backend

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO}
spring.jpa.open-in-view=false

# Corresponds to AppProperties.java
app.jwt.secret-key=${JWT_SECRET_KEY}
app.jwt.expiration-hours=${JWT_EXPIRATION_HOURS:24}
app.stomp.broker-host=${STOMP_BROKER_HOST}
app.stomp.broker-port=${STOMP_BROKER_PORT}
app.security.allowed-origins=${CLIENT_ORIGIN_URL:http://localhost:5173}


# ActiveMQ Broker Configuration (remains the same)
spring.activemq.broker-url=${ACTIVEMQ_BROKER_URL}
spring.activemq.user=${ACTIVEMQ_USER}
spring.activemq.password=${ACTIVEMQ_PASSWORD}

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE_MB:10}MB
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE_MB:10}MB
app.upload.dir=${UPLOAD_DIRECTORY:./uploads}

# SendGrid Email Configuration
sendgrid.api-key=${SENDGRID_API_KEY}
sendgrid.from-email=${SENDGRID_FROM_EMAIL:noreply@synchboard.com}
sendgrid.from-name=${SENDGRID_FROM_NAME:SynchBoard Team}

# Email Verification Settings
verification.code-expiry-minutes=${VERIFICATION_EXPIRY_MINUTES:15}
verification.max-attempts=${VERIFICATION_MAX_ATTEMPTS:3}
password-reset.code-expiry-minutes=${PASSWORD_RESET_EXPIRY_MINUTES:60}

# Google OAuth2 Configuration
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.google.redirect-uri=${GOOGLE_REDIRECT_URI:http://localhost:8080/login/oauth2/code/google}
spring.security.oauth2.client.registration.google.authorization-grant-type=authorization_code
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/v2/auth?prompt=select_account%20consent

# Tomcat Server Configuration for WebSocket
server.tomcat.max-swallow-size=-1
server.tomcat.max-http-form-post-size=${MAX_REQUEST_SIZE_MB:10}MB
server.max-http-request-header-size=1MB

# Logging Configuration
logging.level.root=INFO
logging.level.io.github.sagimenahem.synchboard=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.file.name=${LOG_FILE_PATH:logs/synchboard.log}

# Suppress Spring Security UserDetailsService warning (intentional configuration)
logging.level.org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer=ERROR